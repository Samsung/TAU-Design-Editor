(function(t){!t.tau&&(t.tau={});var e=t.tau.animation={};(function(t,e){(function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;i.length>n&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];void 0===t.requestAnimationFrame&&(t.requestAnimationFrame=function(i){var n=Date.now(),r=Math.max(0,16-(n-e)),o=t.setTimeout(function(){i(n+r)},r);return e=n+r,o}),t.cancelAnimationFrame=t.cancelAnimationFrame||function(e){t.clearTimeout(e)}})(),function(t,e){t.Uint8Array.prototype.setValue=function(){for(var t=0,e=this.length;e>t;t++){if(void 0===arguments[t])return;this[t]=arguments[t]}},e.getTime=function(){return t.performance?t.performance.now?function(){return t.performance.now()}:t.performance.webkitNow?function(){return t.performance.webkitNow()}:function(){return(new Date).getTime()}:function(){return(new Date).getTime()}}()}(t,e);var i={ENUM:{NODETYPE:{GROUP:1,ANIMATION:2},GROUPTYPE:{SEQUENCE:4,PARALLEL:8}},forEach:function(t,e){for(var i=0,n=t&&t.length;n>i;i++){var r=t[i];e(r,i)}},copy:function(t,e){e=e||{};for(var i in t)t.hasOwnProperty(i)&&"$$"!==i.substr(0,2)&&(e[i]=t[i]);return e},arrayCopy:function(t,i){var n,r=t.length;if(void 0!==r)for(void 0===i&&(i=t instanceof Uint8Array?new Uint8Array(r):[]),n=0;r>n;n++)i[n]="string"!=typeof t[n]&&void 0!==t[n].length?e.base.arrayCopy(t[n]):t[n];else i=t;return i},deepCopy:function(t,e){if("object"==typeof t){e=e||{},t.length!==void 0&&(t instanceof Array?e=[]:t instanceof Uint8Array&&(e=new Uint8Array(t.length)));for(var i in t)"object"==typeof t[i]?e[i]=this.deepCopy(t[i]):"string"==typeof t[i]?e[i]=t[i]:"number"==typeof t[i]?e[i]=t[i]:"boolean"==typeof t[i]&&(e[i]=1==t[i]?!0:!1)}else e=t;return e},singleTon:function(t){var e={};return e.getInstance=function(){return void 0===this._singleton&&(this._singleton=new t),this._singleton},e},mixin:function(t,e){function i(t){var e="Function or Object can apply Mixin";e+=void 0!==t?': "'+t+'" is overrided.':".",console.warn(e)}var n;if(void 0!==t.prototype)for(n in e)t.hasOwnProperty(n)&&i(n),t.prototype[n]=e[n];else if(t instanceof Object)for(n in e)t.hasOwnProperty(n)&&i(n),t[n]=e[n];else i();return t},isNumber:function(t){return"number"==typeof t},isFunction:function(t){return"function"==typeof t},isObject:function(t){return t instanceof Object},isArray:function(t){return t instanceof Array}};i.WeakMap=function(){this.keys=[],this.values=[],this.i=0},i.WeakMap.prototype.del=function(t){return this.has(t)&&(this.keys.splice(this.i,1),this.values.splice(this.i,1)),this.i>-1},i.WeakMap.prototype.get=function(t,e){return this.has(t)?this.values[this.i]:e},i.WeakMap.prototype.has=function(t){if(t!==Object(t))throw new TypeError("not a non-null object");return this.i=Array.prototype.indexOf.call(this.keys,t),this.i>-1},i.WeakMap.prototype.set=function(t,e){this.has(t)?this.values[this.i]=e:this.values[this.keys.push(t)-1]=e},i.WeakMap.prototype.getKey=function(){return this.keys};var n=!1,r=/xyz/.test(function(){})?/\b_super\b/:/.*/;i.Class=function(){},i.Class.extend=function(t){function e(){return!n&&this._init?this._init.apply(this,arguments):void 0}var i=this.prototype,o=t.static;n=!0;var a=new this;n=!1;for(var s in t)"static"!==s&&(a[s]="function"==typeof t[s]&&"function"==typeof i[s]&&r.test(t[s])?function(t,e){return function(){var n=this._super;this._super=i[t];var r=e.apply(this,arguments);return this._super=n,r}}(s,t[s]):t[s]);if(e.prototype=a,e.prototype.constructor=e,e.extend=arguments.callee,o)for(var c in o)o.hasOwnProperty(c)&&(e[c]=o[c]);return e},e.base=i})(t,e),function(t,e){"use strict";var i=e.base.Class.extend({_init:function(){this.now=e.getTime,this._frameId=null,this.animators=[],this.animatorIdx=0},tickOn:function(){var i=this;(function n(){i._frameId=t.requestAnimationFrame(n);var r,o=e.getTime();for(r=0;i.animatorIdx>r;r++)i.animators[r].tick(o)})()},tickOff:function(){this._frameId&&(t.cancelAnimationFrame(this._frameId),this._frameId=null)},__on:function(t){0>this.animators.indexOf(t)&&(this.animators[this.animatorIdx]=t,this.animatorIdx++,null===this._frameId&&this.tickOn())},__off:function(t){var e=this.animators.indexOf(t);e>=0&&(this.animators.splice(e,1),this.animatorIdx--,0===this.animatorIdx&&this.tickOff())}});e.Ticker=e.base.singleTon(i)}(t,e),function(t,e){"use strict";function i(){}var n,r=2*Math.PI,o=.3/r*Math.asin(1),a=1.7,s=2.56;n=i.prototype,n.linear=function(t){return t},n.cubicIn=function(t){return t*t*t},n.cubicOut=function(t){return--t*t*t+1},n.cubicInOut=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},n.quadIn=function(t){return t*t},n.quadOut=function(t){return t*(2-t)},n.quadInOut=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},n.quartIn=function(t){return t*t*t*t},n.quartOut=function(t){return 1- --t*t*t*t},n.quartInOut=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},n.quintIn=function(t){return t*t*t*t*t},n.quintOut=function(t){return 1+--t*t*t*t*t},n.quintInOut=function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t},n.bounceIn=function(t){return 1-n.bounceOut(1-t)},n.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},n.bounceInOut=function(t){return.5>t?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5},n.elasticIn=function(t){return 0===t||1===t?t:-(Math.pow(2,10*(t-=1))*Math.sin((t-o)*r/.3))},n.elasticOut=function(t){return 0===t||1===t?t:Math.pow(2,-10*t)*Math.sin((t-o)*r/.3)+1},n.elasticInOut=function(t){return 1>(t*=2)?-.5*Math.pow(2,10*(t-=1))*Math.sin((t-o)*r/.3):.5*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*r/.3)+1},n.easeIn=function(t){return Math.pow(t,.48)},n.easeOut=function(t){return Math.pow(t,1.7)},n.easeInOut=function(t){var e=.48-t/1.04,i=Math.sqrt(.1734+e*e),n=i-e,r=Math.pow(Math.abs(n),1/3)*(0>n?-1:1),o=-i-e,a=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),s=r+a+.5;return 3*(1-s)*s*s+s*s*s},n.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},n.sineOut=function(t){return Math.sin(t*Math.PI/2)},n.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},n.backIn=function(t){return t*t*((a+1)*t-a)},n.backOut=function(t){return t-=1,t*t*((a+1)*t+a)+1},n.backInOut=function(t){return 1>(t*=2)?.5*t*t*((s+1)*t-s):.5*((t-=2)*t*((s+1)*t+s)+2)},n.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},n.circOut=function(t){return Math.sqrt(1- --t*t)},n.circInOut=function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.Ease=e.base.singleTon(i)}(t,e),function(t,e){"use strict";var i=e.Ticker.getInstance(),n=e.Ease.getInstance(),r={STOP:"stop",PAUSE:"pause",RUN:"running"},o={FORWARD:!0,REVERSE:!1},a=function(){var t=0,e=0,i=[];return{add:function(t){i[e]=t,e++},next:function(){return e>t?(t++,i[t-1]):!1},cur:function(){return t},rewind:function(){t=0},get:function(t){return void 0===t?i:i[t]},length:function(){return e},hasNext:function(){return e>t},clear:function(){0!==e&&e>=t&&i.splice(0,t),t=0,e=i.length},allClear:function(){i=[],t=e=0}}},s=function(){var t=[],e=0;return{on:function(i){t[e]=i,e++},onFront:function(i){t.unshift(i),e++},emit:function(){for(var i=0;e>i;i++)t[i].apply(null,arguments)},remove:function(i){for(var n=0;e>n;n++)t[n]===i&&(t[n].splice(n,1),e--)},getLength:function(){return e},removeAll:function(){t=[],e=0}}},c=e.base.Class.extend({_init:function(t,e){this.tweenQueue=a(),this.tweenInfo=null,this._direction=o.FORWARD,this._state=r.STOP,this._isTick=!1,this.isTweenInfo=!1,t&&this.add(t,e),this._startTime=this._lastTime=this._playTime=this._previousTime=0,this._totalTime=this._duration+this._delay,this._changedDirection=!1,this._isCache=!1},tick:function(t){if(this._state===r.RUN){var e,i=t;if((0===this._startTime||null===this._startTime)&&this._setTimes(i),e=i-this._playTime,this._previousTime=i,0>e)return;this._duration>=e?(this.tweenInfo.progress=e/(this._duration||1),this._update()):(1!==this.tweenInfo.progress&&(this.tweenInfo.progress=1,this._update()),i>=this._lastTime&&this._complete())}},play:function(){this._state!==r.RUN&&(this._state===r.PAUSE?(this._direction!==o.FORWARD&&(this._direction=o.FORWARD,this._changedDirection=!0),this.resume()):(this._direction=o.FORWARD,this._start()))},reverse:function(){this._state!==r.RUN&&(this._state===r.PAUSE?(this._direction!==o.REVERSE&&(this._direction=o.REVERSE,this._changedDirection=!0),this.resume()):(this._direction=o.REVERSE,this._start()))},stop:function(){this._state!==r.STOP&&(this._stopTween(),this.tweenQueue.allClear())},pause:function(){this._state===r.RUN&&(this._state=r.PAUSE)},resume:function(t){var i=e.getTime();if(this._state===r.PAUSE){if(this._changedDirection||void 0!==t&&t!==this._direction)void 0!==t&&(this._direction=t),this._lastTime=i+this._previousTime-this._playTime,this._playTime=this._lastTime-this._duration,this._startTime=this._playTime-this._delay,this._changedDirection=!1;else{var n=i-this._previousTime;this._startTime+=n,this._playTime+=n,this._lastTime+=n}this._state=r.RUN}},seek:function(t){var e=t*this._totalTime-this._delay;e>=0&&this._update(e/this._duration)},getSeek:function(t,e){var i,n,r,t,o=this.tweenInfo.name,a=this.tweenInfo.to,s=this.tweenInfo.from;for(e&&(t=t*this._totalTime-this._delay),i=0;n=o[i];i++)this.cur[n]&&(r=this.cur[n].length)?(void 0===this.cur[n]&&(this.cur[n]=[]),this._calculateTween(this.cur[n],a[n],s[n],t)):this.cur[n]=(a[n]-s[n])*this._ease(t)+s[n];return this.cur},setStartTime:function(t){this._startTime=t},replay:function(){this._update(0),this._start()},duration:function(t){this._duration=e.base.isNumber(t)?t:1e3},delay:function(t){this._delay=e.base.isNumber(t)?t:0},ease:function(t){this._ease=e.base.isFunction(n[t])?n[t]:n.linear},loop:function(t){this._loop=e.base.isNumber(t)?t:1},add:function(t,e){var i,n;if(void 0===e)i=t,i.startCallback=s(),i.completeCallback=s(),i.progress=0;else{i={fromTo:t,name:[],progress:0,startCallback:s(),completeCallback:s()};for(n in t)i.name.push(n);i.option=e}return i.option.onStart&&i.startCallback.on(i.option.onStart),i.option.onComplete&&i.completeCallback.on(i.option.onComplete),this.tweenQueue.add(i),1===this.tweenQueue.length()&&(i=this.tweenQueue.next(),this.initTween(i),this.isTweenInfo=!0),i},setRender:function(t){this.render=t},setUpdateTarget:function(t){this.cur=t},getState:function(){return this._state},getCurrentTweenInfo:function(){return this.tweenInfo},nextTweenInfo:function(){return this.tweenQueue.next()},getLastTweenInfo:function(){return this.tweenQueue.get(this.tweenQueue.length()-1)},getFirstTweenInfo:function(){return this.tweenQueue.get(0)},initTween:function(t){var i=t.option;this.tweenInfo=t,this.cur=void 0!==this.cur?this.cur:void 0!==i._cur?i._cur:{},this.option=i,this._onUpdate=i.onUpdate,e.base.isObject(i)?(this.duration(i.duration),this.ease(i.ease),this.delay(i.delay),this.loop(i.loop),this._reverseDelay=i.reverseDelay||0):(this._duration=1e3,this._delay=0,this._loop=1,this._ease=n.linear,this._reverseDelay=0),this._loopCnt=this._loop},_play:function(){if(this._state===r.PAUSE)this.resume();else if(this._state===r.STOP){if(!this.tweenInfo)return;this._start()}},_start:function(){this.tweenInfo&&(this.tweenInfo.startCallback.emit(),this._isTick||(i.__on(this),this._isTick=!0),this._state=r.RUN)},_update:function(t){var e,i,n,r=this.tweenInfo.name,a=this.tweenInfo.fromTo;for(this.tweenInfo.progress=void 0!==t?t:this._direction===o.REVERSE?1-this.tweenInfo.progress:this.tweenInfo.progress,e=0;i=r[e];e++)a[i][0]&&(n=a[i][0].length)?(void 0===this.cur[i]&&(this.cur[i]=[]),this._calculateTween(this.cur[i],a[i][0],a[i][1])):this.cur[i]=(a[i][1]-a[i][0])*this._ease(this.tweenInfo.progress)+a[i][0];this.render&&this.render.call(this.cur,this.tweenInfo),this._onUpdate&&this._onUpdate.call(this.cur,this.tweenInfo)},_calculateTween:function(t,e,i,n){var r,o;for(void 0===n&&(n=this.tweenInfo.progress),r=0,o=i.length;o>r;r++)"number"==typeof i[r]?t[r]=(i[r]-e[r])*this._ease(n)+e[r]:"string"==typeof i[r]?t[r]=i[r]:(void 0===t[r]&&(t[r]=[]),this._calculateTween(t[r],e[r],i[r]))},_complete:function(){var t;return this.setStartTime(null),this.isTweenInfo=!1,--this._loopCnt>0?(this.replay(),void 0):((t=this.tweenQueue.next())||(t=null,this.tweenQueue.allClear(),this._state=r.STOP),this.tweenInfo.completeCallback.emit(),t?(this.initTween(t),this._start()):this.isTweenInfo?this._start():this._stopTween(),void 0)},_stopTween:function(){this._state=r.STOP,this._startTime=null,i.__off(this),this._isTick=!1},_setTimes:function(t){this._startTime=t,this._playTime=this._startTime+(this._direction?this._delay:0),this._lastTime=this._playTime+this._duration+(this._direction?0:this._delay)+this._reverseDelay}});e.TweenAnimator=e.Tween=c}(t,e),function(t,e){"use strict";var i=e.base.Class.extend({_init:function(){this.init()},init:function(){this.translateX=0,this.translateY=0,this.translateZ=0,this.rotateX=0,this.rotateY=0,this.rotateZ=0,this.rotate3dAxis=null,this.rotate3d=0,this.skewX=0,this.skewY=0,this.scaleX=1,this.scaleY=1,this.perspective=0}});e.Transform=i}(t,e,e.base),function(t,e,i){"use strict";var n={aqua:new Uint8Array([0,255,255]),lime:new Uint8Array([0,255,0]),silver:new Uint8Array([192,192,192]),black:new Uint8Array([0,0,0]),maroon:new Uint8Array([128,0,0]),teal:new Uint8Array([0,128,128]),blue:new Uint8Array([0,0,255]),navy:new Uint8Array([0,0,128]),white:new Uint8Array([255,255,255]),fuchsia:new Uint8Array([255,0,255]),olive:new Uint8Array([128,128,0]),yellow:new Uint8Array([255,255,0]),orange:new Uint8Array([255,165,0]),gray:new Uint8Array([128,128,128]),purple:new Uint8Array([128,0,128]),green:new Uint8Array([0,128,0]),red:new Uint8Array([255,0,0]),pink:new Uint8Array([255,192,203]),cyan:new Uint8Array([0,255,255]),transparent:new Uint8Array([255,255,255,0])},r=i.Class.extend({_init:function(){var t=this,e=["borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","width","height","top","left","clipTop","clipBottom","clipRight","clipLeft","fontSize","lineHeight"];e.forEach(function(e){t[e]=t._unit.bind(t)});var i=["backgroundPosition","backgroundSize"];i.forEach(function(e){t[e]=t._arrayUnit.bind(t)});var n=["border","borderTop","borderRight","borderLeft","borderBottom"];n.forEach(function(e){t[e]=function(i){var n,r={};if(n=t._blank(i),3!==n.length)throw Error("InvalidCSSValue");return r[e+"Width"]=n[0],r[e+"Style"]="none"===n[1]?"solid":n[1],r[e+"Color"]=n[2],r}});var r=["backgroundColor","color","borderColor","borderTopColor","borderRightColor","borderLeftColor","borderBottomColor"];r.forEach(function(e){t[e]=t._color});var o=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"];o.forEach(function(e){t[e]=t._arrayUnit.bind(t)});var a=["borderRadius"];a.forEach(function(e){t[e]=function(e){var i,n,r,o=t._blank(e),a=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"];return o.indexOf("/")&&(n=o.indexOf("/")),n>=0?(r=o.splice(0,n),o.shift(),i=t._separateFourDirection(r,a),i=t._separateFourDirection(o,a,i)):i=t._separateFourDirection(o,a),i}});var s=["margin","padding"];s.forEach(function(e){t[e]=function(i){var n;if("string"!=typeof i)throw Error("InvalidCSSValue");return n=t._blank(i),t._separateFourDirection(n,[e+"Top",e+"Right",e+"Bottom",e+"Left"])}});var c=["boxShadow","textShadow"];c.forEach(function(e){t[e]=function(e){var i,n,r,o,a,s,c=0,u=/rgb\([0-9]+[\, |\s]+[0-9]+[\, |\s]+[0-9]+\)/g;if("string"!=typeof e)throw Error("InvalidCSSValue");for(a=e.match(u)||[],e=e.replace(u,"rgb"),e=e.split(","),i=0,r=e.length;r>i;i++){for(e[i].match("rgb")&&a[c]&&(e[i]=e[i].replace("rgb",a[c]),c++),e[i]=t._blank(e[i]),s=e[i].length-1,(o=t._color(e[i][0]))?(e[i].splice(0,1),e[i].push(o)):o=t._color(e[i][s]),n=0;s>n;n++)e[i][n]=t._unit(e[i][n]);e[i][n]=o}return e}})},opacity:function(t){if("number"!=typeof t)throw Error("InvalidCSSValue");return parseFloat(t)},clip:function(t){if("string"!=typeof t)throw Error("InvalidCSSValue");var e=t.replace(/\(|\)|,/g," ").trim().split(/\s+/g),i=[];i[0]=e[0];for(var n=1;4>=n;n++)i[n]=this._unit(e[n]);return i},webkitClipPath:function(t){var e,i,n,r=[];if("string"!=typeof t)throw Error("InvalidCSSValue");for(n=t.replace(/\(|\)|,/g," ").trim().split(/\s+/g),r.push(n[0]),e=1,i=n.length;i>e;e++)r.push(this._unit(n[e]));return r},backgroundImage:function(t){if("string"!=typeof t)throw Error("InvalidCSSValue");return t.replace(/url\(|\)|"/gi,"")},_arrayUnit:function(t){var e,i,n;if("string"!=typeof t)throw Error("InvalidCSSValue");n=t.trim().split(" ");try{for(e=0,i=n.length;i>e;e++)n[e]=this._unit(n[e])}catch(r){throw Error("InvalidCSSValue")}return n},_unit:function(t){var e,i={};if("string"==typeof t?((e=t.indexOf("="))>0&&(i.operation=t.charAt(e-1),t=t.slice(e+1,t.length)),i.number=this._getFloat(t),i.unit=this._getChar(t)||"px"):(i.number=t,i.unit="px"),"number"!=typeof i.number||"px"!==i.unit&&"em"!==i.unit&&"pt"!==i.unit&&"%"!==i.unit&&"cm"!==i.unit)throw Error("InvalidCSSValue");return i},_color:function(t){var e,i,r,o,a,s,c,u;if(n[t])u=n[t];else if(t instanceof Array||t instanceof Uint8Array)u=new Uint8Array(t);else{if("string"!=typeof t)return!1;if(c=t.toLowerCase(),c=c.trim(),"r"===c.charAt(0)&&"g"===c.charAt(1)&&"b"===c.charAt(2)){if("a"===c.charAt(3)){for(o=c.replace(/rgba\(/g,"").replace(/\)/g,"").replace(/(\s*)/g,"").replace(/\,/g," ").split(" "),s=0,a=o.length-1;a>s;s++)o[s]=parseInt(o[s]);o[a]=parseFloat(o[a])}else for(o=c.replace(/rgb\(/g,"").replace(/\)/g,"").replace(/(\s*)/g,"").replace(/\,/g," ").split(" "),s=0,a=o.length;a>s;s++)o[s]=parseInt(o[s]);u=new Uint8Array(o)}else{if("#"!==c.charAt(0))return!1;4===c.length&&(e=c.charAt(1),i=c.charAt(2),r=c.charAt(3),c="#"+e+e+i+i+r+r),c=parseInt(c.substr(1),16),u=new Uint8Array(3),u.setValue(c>>16,255&c>>8,255&c)}}return u},_getChar:function(t){var e=t.match(/[^0-9.\+-]/g),i="";return null!==e&&(i=e.join("")),i.replace(/\, /g,""),i},_getNum:function(t){return parseInt(t.match(/^[-]?\d+/g),10)},_getFloat:function(t){return parseFloat(t.match(/^[+-]?\d*(\.?\d*)/g))},_blank:function(t){return t.trim().replace(/\, /g,",").split(" ")},_separateFourDirection:function(t,e,i){var n,r={};if(i)for(r=i,n=0;4>n;n++)r[e[n]]+=" ";else for(n=0;4>n;n++)r[e[n]]="";return 4===t.length?(r[e[0]]+=t[0],r[e[1]]+=t[1],r[e[2]]+=t[2],r[e[3]]+=t[3]):3===t.length?(r[e[0]]+=t[0],r[e[1]]+=t[1],r[e[2]]+=t[2],r[e[3]]+=t[1]):2===t.length?(r[e[0]]+=t[0],r[e[1]]+=t[1],r[e[2]]+=t[0],r[e[3]]+=t[1]):1===t.length&&(r[e[0]]+=t[0],r[e[1]]+=t[0],r[e[2]]+=t[0],r[e[3]]+=t[0]),r}});e.CSSPropertyParser=i.singleTon(r)}(t,e,e.base),function(t,e,i){"use strict";var n=i.Class.extend({_init:function(){this.createColor(),this.createBorderStyle(),this.createBlankFunction(),this.createUnit(),this.createShadow()},opacity:function(t){return t.opacity},WebkitTransform:function(t){var e="";return t.perspective&&(e+="perspective("+t.perspective+"px) "),e+="translate3d("+t.translateX+"px, "+t.translateY+"px, "+t.translateZ+"px) ",t.rotateX&&(e+="rotateX("+t.rotateX+"deg) "),t.rotateY&&(e+="rotateY("+t.rotateY+"deg) "),t.rotateZ&&(e+="rotateZ("+t.rotateZ+"deg) "),t.rotate3dAxis&&t.rotate3d&&(e+="rotate3d("+t.rotate3dAxis[0]+", "+t.rotate3dAxis[1]+", "+t.rotate3dAxis[2]+", "+t.rotate3d+"deg)"),1!==t.scaleX&&(e+="scaleX("+t.scaleX+") "),1!==t.scaleY&&(e+="scaleY("+t.scaleY+") "),t.skewX&&(e+="skewX("+t.skewX+"deg) "),t.skewY&&(e+="skewY("+t.skewY+"deg) "),e},createUnit:function(){function t(t,e){return"px"===e[this]?Math.round(t[this])+e[this]:t[this]+e[this]}function e(t,e){return t[this][0]+e[this][0]+" "+t[this][1]+e[this][1]}var i=this,n=["width","height","top","left"],r=["backgroundPosition","backgroundSize"];n.forEach(function(e){i[e]=t.bind(e)}),r.forEach(function(t){i[t]=e.bind(t)})},createColor:function(){var t=this,e=["borderColor","borderTopColor","borderRightColor","borderLeftColor","borderBottomColor","backgroundColor","color"];e.forEach(function(e){t[e]=t._rgbColor(e)})},createBorderStyle:function(){function t(t,e){var i=this+"Width",n=this+"Color",r=this+"Style";return t[i]+e[i]+" "+e[r]+" rgb("+t[n][0]+", "+t[n][1]+", "+t[n][2]+")"}function e(t,e){return t[this].toFixed(2)+e[this]}function i(t,e){return t[this][0]+e[this][0]+" "+t[this][1]+e[this][1]}var n=this,r=["border","borderTop","borderRight","borderLeft","borderBottom"],o=["borderWidth","borderTopWidth","borderRightWidth","borderLeftWidth","borderBottomWidth"],a=["borderStyle","borderTopStyle","borderRightStyle","borderLeftStyle","borderBottomStyle"],s=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"];r.forEach(function(e){n[e]=t.bind(e)}),a.forEach(function(t){n[t]=n._direct(t)}),o.forEach(function(t){n[t]=e.bind(t)}),s.forEach(function(t){n[t]=i.bind(t)})},createBlankFunction:function(){function t(t,e){var i=this+"Top",n=this+"Right",r=this+"Bottom",o=this+"Left";return t[i]+e[i]+" "+t[n]+e[n]+" "+t[r]+e[r]+" "+t[o]+e[o]}function e(t,e){return t[this]+e[this]}var i=this,n=["margin","padding"],r=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","lineHeight","fontSize"];n.forEach(function(e){i[e]=t.bind(e)}),r.forEach(function(t){i[t]=e.bind(t)})},createShadow:function(){var t=this,e=["boxShadow","textShadow"];e.forEach(function(e){t[e]=function(t,i){var n,r,o,a,s=t[e],c=i[e],u="";for(n=0,o=s.length;o>n;n++){for(0!==n&&(u+=", "),r=0,a=s[n].length-1;a>r;r++)u+=s[n][r]+c[n][r]+" ";u+="rgb("+s[n][r][0]+","+s[n][r][1]+","+s[n][r][2]+") "}return u}})},borderRadius:function(t,e){var i="borderTopLeftRadius",n="borderTopRightRadius",r="borderBottomRightRadius",o="borderBottomLeftRadius",a=t[i][0]+e[i][0]+" "+t[n][0]+e[n][0]+" "+t[r][0]+e[r][0]+" "+t[o][0]+e[o][0]+" / "+t[i][1]+e[i][1]+" "+t[n][1]+e[n][1]+" "+t[r][1]+e[r][1]+" "+t[o][1]+e[o][1];return a},clip:function(t){return t.clip[0]+"("+t.clip[1][0]+t.clip[1][1]+" "+t.clip[2][0]+t.clip[2][1]+" "+t.clip[3][0]+t.clip[3][1]+" "+t.clip[4][0]+t.clip[4][1]+")"},webkitClipPath:function(t,e){var i,n,r,o=t.webkitClipPath,a=e.webkitClipPath,s=e.webkitClipPathStyle;if("circle"===s)return a[0]+"("+o[0]+a[1]+" at "+o[1]+a[2]+" "+o[2]+a[3]+")";if("polygon"===s){for(r=s+"(",i=0,n=o.length;n>i;i+=2)r+=o[i]+a[i]+" "+o[i+1]+a[i+1],r+=i+1!==n-1?", ":")";return r}},_direct:function(t){return function(e){return e[t]}},_rgbColor:function(t){return function(e){return"rgb("+e[t][0]+", "+e[t][1]+", "+e[t][2]+")"}}});e.CssStringCreator=i.singleTon(n)}(t,e,e.base),function(t,e,i){"use strict";var n=e.CSSPropertyParser.getInstance(),r=i.Class.extend({_init:function(){var t,e,i,r,o,a,s,c,u=this;t=["backgroundColor","color","borderColor","borderTopColor","borderRightColor","borderLeftColor","borderBottomColor"],t.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_colorType")}}),e=["width","left","marginRight","marginLeft","paddingRight","paddingLeft","marginTop","marginBottom","paddingBottom","paddingTop","clipTop","clipBottom","clipRight","clipLeft","borderWidth","borderTopWidth","borderRightWidth","borderLeftWidth","borderBottomWidth","clipTop","clipBottom","clipRight","clipLeft"],e.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_unitType","width")}}),i=["height","top"],i.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_unitType","height")}}),r=["backgroundPosition","backgroundSize"],r.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_backgroundType")}}),c=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],c.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_borderRadiusType")}}),o=["margin","padding","borderRadius"],o.forEach(function(t){u[t]=function(e){var i,r,o;try{if(2===e.animationFromTo[t].length){i=n[t](e.animationFromTo[t][0]),r=n[t](e.animationFromTo[t][1]);for(o in r)if(e.animationFromTo[o]=[i[o],r[o]],u[o](e)===!1)return!1}else{r=n[t](e.animationFromTo[t]);for(o in r)if(e.animationFromTo[o]=r[o],u[o](e)===!1)return!1}}catch(a){return!1}}}),a=["border","borderTop","borderRight","borderLeft","borderBottom"],a.forEach(function(t){u[t]=function(e){var i,r;try{2===e.animationFromTo[t].length?(i=n[t](e.animationFromTo[t][0]),r=n[t](e.animationFromTo[t][1]),e.animationFromTo[t+"Width"]=[i[t+"Width"],r[t+"Width"]],e.animationFromTo[t+"Color"]=[i[t+"Color"],r[t+"Color"]]):(r=n[t](e.animationFromTo[t]),e.animationFromTo[t+"Width"]=r[t+"Width"],e.animationFromTo[t+"Color"]=r[t+"Color"])}catch(o){return!1}e.unit[t+"Style"]=r[t+"Style"],u[t+"Width"](e),u[t+"Color"](e)}}),s=["boxShadow","textShadow"],s.forEach(function(t){u[t]=function(e){return u.settingCssAnimation(t,e,"_shadowType")}}),this.webkitClipPath=function(t){return this.settingCssAnimation("webkitClipPath",t,"_webkitClipPathType")},this.fontSize=function(t){return this.settingCssAnimation("fontSize",t,"_fontSizeType")},this.lineHeight=function(t){return this.settingCssAnimation("lineHeight",t,"_unitType","lineHeight")},this.opacity=function(t){return this.settingCssAnimation("opacity",t)},this.WebkitTransform=function(t,e){var i,r;if("object"==typeof e.animationFromTo[t]&&2===e.animationFromTo[t].length)i="rotate3d"===t?e.animationFromTo[t][0][3]:e.animationFromTo[t][0],r=e.animationFromTo[t][1];else{if("perspective"===t)return e.cur[t]=e.animationFromTo[t],void 0;i=e.target.cur[t],r=e.animationFromTo[t]}try{"translateX"===t||"translateY"===t||"translateZ"===t?("string"==typeof i&&(i=this._getTranslateValue(t,e,i).number),"string"==typeof r&&(r=this._getTranslateValue(t,e,r),r.operation&&this._calculateOperation(i,r),r=r.number)):"rotate3d"===t?(e.cur.rotate3dAxis=r.splice(0,3),r=r[0]):"string"==typeof r&&(r=n._unit(r),r.operation&&this._calculateOperation(i,r),r=r.number)}catch(o){return!1}e.fromTo[t]=[i,r],e.target.from[t]=r,e.name.push(t)}},settingCssAnimation:function(e,i,r,o){var a;a=i.fromTo[e]=[],"object"==typeof i.animationFromTo[e]&&2===i.animationFromTo[e].length?(a[0]=i.animationFromTo[e][0],a[1]=i.animationFromTo[e][1]):(a[0]=t.getComputedStyle(i.target.dom)[e],(""===a[0]||"auto"===a[0]||"none"===a[0]||void 0===a[0])&&(a[0]=this._exceptGetStyle(i.target.dom,e)),a[1]=i.animationFromTo[e]);try{a[0]=n[e](a[0]),a[1]=n[e](a[1])}catch(s){return!1}r&&this[r]&&this[r](e,i,o),i.name.push(e)},unitArray:function(t,e,i){var n,r,o,a,s,c=[],u=[],l=[],h=e.fromTo[t];for(n=0,r=h[0].length;r>n;n++)o=h[0][n],a=h[1][n],o.unit!==a.unit&&(s="object"==typeof i&&i[n]?i[n]:i,this._convertUnit(e.target.dom,o,a,s,t)),a.operation&&this._calculateOperation(o,a),c.push(o.number),u.push(a.number),l.push(a.unit);e.fromTo[t]=[c,u],e.unit[t]=l},_colorType:function(t,e){e.target.cur[t]=new Uint8Array(3)},_fontSizeType:function(t,e){var i=e.fromTo[t];isNaN(i[0].number)&&this._getStringFontNumber(i[0],e.target.dom),isNaN(i[1].number)&&this._getStringFontNumber(i[1],e.target.dom),this._unitType(t,e,"fontSize")},_borderRadiusType:function(t,e){1===e.fromTo[t][0].length&&e.fromTo[t][0].push(i.deepCopy(e.fromTo[t][0][0])),1===e.fromTo[t][1].length&&e.fromTo[t][1].push(i.deepCopy(e.fromTo[t][1][0])),this.unitArray(t,e,["width","height"])},_backgroundType:function(t,e){1===e.fromTo[t][0].length&&e.fromTo[t][0].push({number:50,unit:"%"}),1===e.fromTo[t][1].length&&e.fromTo[t][1].push({number:50,unit:"%"}),this.unitArray(t,e,["width","height"])},_unitType:function(t,e,i){var n=e.fromTo[t][0],r=e.fromTo[t][1];return n.unit!==r.unit&&this._convertUnit(e.target.dom,n,r,i,t),e.unit[t]=r.unit,e.target.unit[t]=r.unit,e.fromTo[t][0]=n.number,r.operation&&this._calculateOperation(n,r),e.fromTo[t][1]=r.number,!1},_webkitClipPathType:function(t,e){var i=e.fromTo[t];e.unit[t+"Style"]=i[1][0],i[0].splice(0,1),i[1].splice(0,1),this.unitArray(t,e,"width")},_shadowType:function(t,e){var n,r,o,a,s,c,u,l=e.fromTo[t][0],h=e.fromTo[t][1],p=[];for(e.unit[t]=p,a=0,u=h.length;u>a;a++){for(!l[a]&&(l[a]=[]),n=l[a],r=h[a],o=[],p.push(o),s=0,c=r.length-1;c>s;s++)o.push(r[s].unit),n[s]&&r[s].unit!==n[s].unit&&this._convertUnit(e.target.dom,n[s],r[s],"width",t),r[s].operation&&this._calculateOperation(n[s],r[s]),r[s]=r[s].number,n[s]=n[s]?n[s].number:0;n[c]||(n[c]=new Uint8Array(3))}e.cur[t]=i.deepCopy(h)},_calculateOperation:function(t,e){var t="number"==typeof t?t:t.number;switch(e.operation){case"+":e.number=t+e.number;break;case"-":e.number=t-e.number;break;case"*":e.number=t*e.number;break;case"/":e.number=t/e.number}},_exceptGetStyle:function(t,e){var i,n,r;if("left"===e)i=t.offsetLeft+"px";else if("top"===e)i=t.offsetTop+"px";else if("clip"===e)i="rect(0px 0px 0px 0px)";else if("boxShadow"===e)i="0px 0px 0px 0px black";else if("textShadow"===e)i="0px 0px 0px black";else if("backgroundPosition"===e)i="0px 0px";else if("backgroundSize"===e)return n=this._getStyle(t,"backgroundImage"),"none"!==n&&(r=new Image,r.src=n,r.width&&r.height)?r.width+"px "+r.height+"px":"0px 0px";return void 0===i&&(i="0px"),i},_getCriterionEm:function(t,e){return"fontSize"===e?16:this._getStyle(t,"fontSize").number||16},_getCriterionPercent:function(e,i,r){var o,a,s,c,u=e.parentNode;if("lineHeight"===r)return this._getStyle(e,"fontSize").number||16;if("backgroundPosition"===r)return s=this._getStyle(e,i).number,c=this._getBackgroundImageSize(e,i),s-c+1;if("backgroundSize"===r)return this._getStyle(e,i).number;if("borderTopLeftRadius"===r||"borderTopRightRadius"===r||"borderBottomRightRadius"===r||"borderBottomLeftRadius"===r)return a=i.substring(0,1).toUpperCase()+i.substring(1),e["offset"+a];for(o=n._getFloat(t.getComputedStyle(u)[i]);""===o&&u!==document.body;)u=u.parentNode,o=n._getFloat(t.getComputedStyle(u)[i]);return 0!==o||"width"!==i&&"height"!==i||(a=i.substring(0,1).toUpperCase()+i.substring(1),o=t["inner"+a]),o},_getStyle:function(e,i){var r=t.getComputedStyle(e)[i];return(""===r||"auto"===r||"none"===r||void 0===r)&&(r=this._exceptGetStyle(e,i)),r=n[i](r)},_getBackgroundImageSize:function(t,e){var i,n,r=this._getStyle(t,"backgroundSize");return"auto"===r[0].unit?(i=this._getStyle(t,"backgroundImage"),n=new Image,n.src=i,void 0===e?[n.width,n.height]:n[e]):r["width"===e?0:1].number},_getStringFontNumber:function(t,e){var i=t.unit;"normal"===i||"initial"===i?(t.number=this._getStyle(e,"fontSize").number||16,t.unit="px"):"xx-small"===i?(t.number=.5625,t.unit="em"):"x-small"===i?(t.number=.625,t.unit="em"):"small"===i?(t.number=.8125,t.unit="em"):"medium"===i?(t.number=1,t.unit="em"):"large"===i?(t.number=1.125,t.unit="em"):"x-large"===i?(t.number=1.5,t.unit="em"):"xx-large"===i&&(t.number=2,t.unit="em")},_getTranslateValue:function(t,e,i){var r;try{r=n._unit(i)}catch(o){throw Error("InvalidCSSValue")}return"px"!==r.unit&&("translateX"===t||"translateZ"===t?r.number=this._convertPx(e.target.dom,r.number,r.unit,"width"):"translateY"===t&&(r.number=this._convertPx(e.target.dom,r.number,r.unit,"height"))),r},_convertUnit:function(t,e,i,n,r){"em"===i.unit?e.number=this._convertEm(t,e.number,e.unit,n,r):"%"===i.unit?e.number=this._convertPer(t,e.number,e.unit,n,r):"px"===i.unit?e.number=this._convertPx(t,e.number,e.unit,n,r):"cm"===i.unit?e.number=this._convertCm(t,e.number,e.unit,n,r):"pt"===i.unit&&(e.number=this._convertPt(t,e.number,e.unit,n,r))},_convertEm:function(t,e,i,n,r){var o=this._getCriterionEm(t,n,r);return 0===e?0:"px"===i?e/o:"%"===i?e/100*this._getCriterionPercent(t,n,r)/o:"cm"===i||"pt"===i?this._convertPx(t,e,i,n,r)/o:!1},_convertPer:function(t,e,i,n,r){var o=this._getCriterionPercent(t,n,r);return 0===e?0:"px"===i?100*(e/o):"em"===i?100*(e*this._getCriterionEm(t,n,r)/o):"cm"===i||"pt"===i?100*(this._convertPx(t,e,i,n,r)/o):!1},_convertPx:function(t,e,i,n,r){return 0===e?0:"%"===i?e/100*this._getCriterionPercent(t,n,r):"em"===i?e*e*this._getCriterionEm(t,n,r):"cm"===i?37.795*e:"pt"===i?1.3*e:!1},_convertCm:function(t,e,i,n,r){var o;return 0===e?0:(o="px"!==i?this._convertPx(t,e,i,n,r):e,.02646*o)},_convertPt:function(t,e,i,n,r){var o;
return 0===e?0:(o="px"!==i?this._convertPx(t,e,i,n,r):e,.75*o)}});e.CssAnimationUtil=e.base.singleTon(r)}(t,e,e.base),function(t,e){var i={optionAnalyzer:function(t,e){var i;return void 0!==t?"number"==typeof t?(i=e&&"object"==typeof e?e:{},i.duration=t):"object"==typeof t&&(i=t):(i={},i.duration=1e3),i},checkStagger:function(t,i,n){var r,o,a;for(this.animations=[],r=0,o=t.length;o>r;r++)a=e.base.deepCopy(i),i.stagger&&(a.delay=i.stagger*r+(i.delay||0),a.reverseDelay=i.stagger*(o-r)),0!==r&&i.drag&&(a.duration+=i.drag*r),0===r&&i.onStart&&(a.onStart=i.onStart),n(t[r],a,r)},createKeyFrame:function(t,i,n){var r,o,a,s,c,u,l=[];for(r in t)l.push(parseFloat(r));for(l.sort(function(t,e){return t-e}),s=l[0],void 0===i.duration&&(i.duration=1e3),r=0,a=l.length-1;a>r;r++){u=e.base.deepCopy(i),c={};for(o in t[l[r+1]])c[o]=void 0!==t[l[r]][o]?[t[l[r]][o],t[l[r+1]][o]]:t[l[r+1]][o];u.duration=i.duration*(l[r+1]-s),s=l[r+1],0===r?(i.onStart&&(u.onStart=i.onStart),i.delay&&(u.delay=i.delay),u.reverseDelay=0):(i.delay&&(u.delay=0),i.stagger&&(u.delay=0)),r===a-1?i.onComplete&&(u.onComplete=i.onComplete):u.reverseDelay=0,n(c,u,r)}},effectAnalyzer:function(t,e){var i,n,r,o,a=t.dom.offsetWidth||0,s=t.dom.offsetHeight||0,c=e;if("pulse"===c)i={0:{scaleX:1,scaleY:1},.5:{scaleX:1.05,scaleY:1.05},1:{scaleX:1,scaleY:1}};else if("rollIn"===c)i={0:{translateX:-100,rotateZ:-120,opacity:0},1:{translateX:0,rotateZ:0,opacity:1}};else if("rollOut"===c)i={0:{opacity:1},1:{translateX:200,rotateZ:120,opacity:0}};else if("bounce"===c)i={0:{translateY:0},.2:{translateY:0},.4:{translateY:-30},.5:{translateY:0},.7:{translateY:-15},.8:{translateY:0},.9:{translateY:-4},1:{translateY:0}},n=["bounce1","bounce1","bounce2","bounce1","bounce2","bounce1","","bounce1"],r="center bottom";else if("bounceIn"===c)i={0:{scaleX:.3,scaleY:.3},.2:{scaleX:1.1,scaleY:1.1},.4:{scaleX:.9,scaleY:.9},.6:{scaleX:1.03,scaleY:1.03},.8:{scaleX:.97,scaleY:.97},1:{scaleX:1,scaleY:1}},n=["bounce1","bounce1","bounce1","bounce1","bounce1","bounce1"];else if("bounceInDown"===c)i={0:{translateY:-3e3,opacity:0},.6:{translateY:25,opacity:1},.75:{translateY:-10,opacity:1},.9:{translateY:5,opacity:1},1:{translateY:0,opacity:1}},n=["bounce1","bounce1","bounce1","bounce1","bounce1"];else if("bounceInLeft"===c)i={0:{translateX:-3e3,opacity:0},.6:{translateX:25,opacity:1},.75:{translateX:-10,opacity:1},.9:{translateX:5,opacity:1},1:{translateX:0,opacity:1}},n=["bounce1","bounce1","bounce1","bounce1","bounce1"];else if("bounceInRight"===c)i={0:{translateX:3e3,opacity:0},.6:{translateX:-25,opacity:1},.75:{translateX:10,opacity:1},.9:{translateX:-5,opacity:1},1:{translateX:0,opacity:1}},n=["bounce1","bounce1","bounce1","bounce1","bounce1"];else if("bounceInUp"===c)i={0:{translateY:3e3,opacity:0},.6:{translateY:-25,opacity:1},.75:{translateY:10,opacity:1},.9:{translateY:-5,opacity:1},1:{translateY:0,opacity:1}},n=["bounce1","bounce1","bounce1","bounce1","bounce1"];else if("bounceOut"===c)i={.2:{opacity:0,scaleX:.9,scaleY:.9},.5:{opacity:1,scaleX:1.1,scaleY:1.1},1:{opacity:0,scaleX:.3,scaleY:.3}};else if("bounceOutDown"===c)i={0:{translateY:0,opacity:1},.1:{translateY:10,opacity:1},.45:{translateY:-20,opacity:1},1:{translateY:2e3,opacity:0}};else if("bounceOutLeft"===c)i={0:{translateX:0,opacity:1},.2:{translateX:20,opacity:1},1:{translateX:-2e3,opacity:0}};else if("bounceOutRight"===c)i={0:{translateX:0,opacity:1},.2:{translateX:-20,opacity:1},1:{translateX:2e3,opacity:0}};else if("bounceOutUp"===c)i={0:{translateY:0,opacity:1},.2:{translateY:-10,opacity:1},.45:{translateY:20,opacity:1},1:{translateY:-2e3,opacity:0}};else if("zoomIn"===c)i={0:{scaleX:.3,scaleY:.3,opacity:0},.5:{scaleX:1,scaleY:1,opacity:1}};else if("zoomInDown"===c)i={0:{scaleX:.1,scaleY:.1,opacity:0,translateX:0,translateY:-1e3},.6:{scaleX:.475,scaleY:.475,opacity:1,translateX:0,translateY:60},1:{scaleX:1,scaleY:1,opacity:1,translateX:0,translateY:0}},n=["zoomInDown","backOut"];else if("zoomInLeft"===c)i={0:{scaleX:.1,scaleY:.1,opacity:0,translateX:-1e3},.6:{scaleX:.475,scaleY:.475,opacity:1,translateX:10},1:{scaleX:1,scaleY:1,opacity:1,translateY:0}},n=["zoomInDown","backOut"];else if("zoomInRight"===c)i={0:{scaleX:.1,scaleY:.1,opacity:0,translateX:1e3},.6:{scaleX:.475,scaleY:.475,opacity:1,translateX:-10},1:{scaleX:1,scaleY:1,opacity:1}},n=["zoomInDown","backOut"];else if("zoomInUp"===c)i={0:{scaleX:.1,scaleY:.1,opacity:0,translateY:1e3},.6:{scaleX:.475,scaleY:.475,opacity:1,translateY:-60},1:{scaleX:1,scaleY:1,opacity:1,translateY:0}},n=["zoomInDown","backOut"];else if("zoomOut"===c)i={0:{opacity:1},.6:{scaleX:.3,scaleY:.3,opacity:0},1:{opacity:0}};else if("zoomOutDown"===c)i={0:{scaleX:1,scaleY:1,translateY:0,opacity:1},.4:{scaleX:.475,scaleY:.475,translateY:-60,opacity:1},1:{scaleX:.1,scaleY:.1,translateY:2e3,opacity:0}},n=["zoomInDown","backOut"],r="center bottom";else if("zoomOutLeft"===c)i={0:{scaleX:1,scaleY:1,translateX:0,opacity:1},.4:{scaleX:.475,scaleY:.475,translateX:42,opacity:1},1:{scaleX:.1,scaleY:.1,translateX:-2e3,opacity:0}},r="left center";else if("zoomOutRight"===c)i={0:{scaleX:1,scaleY:1,translateX:0,opacity:1},.4:{scaleX:.475,scaleY:.475,translateX:-42,opacity:1},1:{scaleX:.1,scaleY:.1,translateX:2e3,opacity:0}},r="right center";else if("zoomOutUp"===c)i={0:{scaleX:1,scaleY:1,translateY:0,opacity:1},.4:{scaleX:.475,scaleY:.475,translateY:60,opacity:1},1:{scaleX:.1,scaleY:.1,translateY:-2e3,opacity:0}},n=["zoomInDown","backOut"],r="center bottom";else if("slideInDown"===c)i={0:{translateY:-1*s},1:{translateY:0}},o="visible";else if("slideInLeft"===c)i={0:{translateX:-1*a},1:{translateX:0}},o="visible";else if("slideInRight"===c)i={0:{translateX:a},1:{translateX:0}},o="visible";else if("slideInUp"===c)i={0:{translateY:s},1:{translateY:0}},o="visible";else if("slideOutDown"===c)i={0:{translateY:0},1:{translateY:s}},o="hidden";else if("slideOutLeft"===c)i={0:{translateX:0},1:{translateX:-1*a}},o="hidden";else if("slideOutRight"===c)i={0:{translateX:0},1:{translateX:a}},o="hidden";else if("slideOutUp"===c)i={0:{translateY:0},1:{translateY:-1*s}},o="hidden";else if("flash"===c)i={0:{opacity:1},.25:{opacity:0},.5:{opacity:1},.75:{opacity:0},1:{opacity:1}};else if("rubberBand"===c)i={0:{scaleX:1,scaleY:1},.3:{scaleX:1.25,scaleY:.75},.4:{scaleX:.75,scaleY:1.25},.5:{scaleX:1.15,scaleY:.85},.65:{scaleX:.95,scaleY:1.05},.75:{scaleX:1.05,scaleY:.95},1:{scaleX:1,scaleY:1}};else if("shake"===c)i={0:{translateX:0},.1:{translateX:-10},.2:{translateX:10},.3:{translateX:-10},.4:{translateX:10},.5:{translateX:-10},.6:{translateX:10},.7:{translateX:-10},.8:{translateX:10},.9:{translateX:-10},1:{translateX:0}};else if("swing"===c)i={0:{rotateZ:0},.2:{rotateZ:15},.4:{rotateZ:-10},.6:{rotateZ:5},.8:{rotateZ:-5},1:{rotateZ:0}},r="top center";else if("tada"===c)i={0:{scaleX:1,scaleY:1,rotateZ:0},.15:{scaleX:.9,scaleY:.9,rotateZ:-3},.3:{scaleX:1.1,scaleY:1.1,rotateZ:3},.4:{scaleX:1.1,scaleY:1.1,rotateZ:-3},.5:{scaleX:1.1,scaleY:1.1,rotateZ:3},.6:{scaleX:1.1,scaleY:1.1,rotateZ:-3},.7:{scaleX:1.1,scaleY:1.1,rotateZ:3},.8:{scaleX:1.1,scaleY:1.1,rotateZ:-3},.9:{scaleX:1.1,scaleY:1.1,rotateZ:3},1:{scaleX:1,scaleY:1,rotateZ:0}};else if("wobble"===c)i={0:{translateX:0,rotateZ:0},.15:{translateX:a*-.25,rotateZ:-5},.3:{translateX:.2*a,rotateZ:3},.45:{translateX:a*-.15,rotateZ:-3},.6:{translateX:.1*a,rotateZ:2},.75:{translateX:a*-.05,rotateZ:-1},1:{translateX:0,rotateZ:0}};else if("jello"===c)i={0:{skewX:0,skewY:0},.22:{skewX:-12.5,skewY:-12.5},.33:{skewX:6.25,skewY:6.25},.44:{skewX:-3.125,skewY:-3.125},.55:{skewX:1.5625,skewY:1.5625},.66:{skewX:-.78125,skewY:-.78125},.77:{skewX:.390625,skewY:.390625},.88:{skewX:-.1953125,skewY:-.1953125},1:{skewX:0,skewY:0}},r="center";else if("fadeIn"===c)i={0:{opacity:0},1:{opacity:1}};else if("fadeInDown"===c)i={0:{translateY:-1*s,opacity:0},1:{translateY:0,opacity:1}};else if("fadeInDownBig"===c)i={0:{opacity:0,translateY:-2e3},1:{opacity:1,translateY:0}};else if("fadeInLeft"===c)i={0:{opacity:0,translateX:-1*a},1:{opacity:1,translateX:0}};else if("fadeInLeftBig"===c)i={0:{opacity:0,translateX:-2e3},1:{opacity:1,translateX:0}};else if("fadeInRight"===c)i={0:{opacity:0,translateX:a},1:{opacity:1,translateX:0}};else if("fadeInRightBig"===c)i={0:{opacity:0,translateX:2e3},1:{opacity:1,translateX:0}};else if("fadeInUp"===c)i={0:{opacity:0,translateY:s},1:{opacity:1,translateY:0}};else if("fadeInUpBig"===c)i={0:{opacity:0,translateY:2e3},1:{opacity:1,translateY:0}};else if("fadeOut"===c)i={0:{opacity:1},1:{opacity:0}};else if("fadeOutDown"===c)i={0:{opacity:1,translateY:0},1:{opacity:0,translateY:s}};else if("fadeOutDownBig"===c)i={0:{opacity:1,translateY:0},1:{opacity:0,translateY:2e3}};else if("fadeOutLeft"===c)i={0:{opacity:1,translateX:0},1:{opacity:0,translateX:-1*a}};else if("fadeOutLeftBig"===c)i={0:{opacity:1,translateX:0},1:{opacity:0,translateX:-2e3}};else if("fadeOutRight"===c)i={0:{opacity:1,translateX:0},1:{opacity:0,translateX:a}};else if("fadeOutRightBig"===c)i={0:{opacity:1,translateX:0},1:{opacity:0,translateX:2e3}};else if("fadeOutUp"===c)i={0:{opacity:1,translateY:0},1:{opacity:0,translateY:-1*s}};else if("fadeOutUpBig"===c)i={0:{opacity:1,translateY:0},1:{opacity:0,translateY:-2e3}};else if("flip"===c)i={0:{rotateY:-360,perspective:400},.4:{rotateY:-190,translateZ:150,perspective:400},.5:{rotateY:-170,translateZ:150,perspective:400},.8:{scaleX:.95,scaleY:.95,perspective:400},1:{scaleX:1,scaleY:1,rotateY:0,translateZ:0,perspective:400}},n=["easeIn","easeIn","easeIn","easeIn","easeIn"];else if("flipInX"===c)i={0:{rotateX:90,perspective:400,opacity:0},.4:{rotateX:-20,perspective:400,opacity:1},.6:{rotateX:10,perspective:400,opacity:1},.8:{rotateX:-5,perspective:400,opacity:1},1:{rotateX:0,perspective:400,opacity:1}},n=["easeIn","easeIn","easeIn","easeIn","easeIn"];else if("flipInY"===c)i={0:{rotateY:90,perspective:400,opacity:0},.4:{rotateY:-20,perspective:400,opacity:1},.6:{rotateY:10,perspective:400,opacity:1},.8:{rotateY:-5,perspective:400,opacity:1},1:{rotateY:0,perspective:400,opacity:1}},n=["easeIn","easeIn","easeIn","easeIn","easeIn"];else if("flipOutX"===c)i={0:{perspective:400},.3:{perspective:400,rotateX:-20,opacity:1},1:{perspective:400,rotateX:90,opacity:0}};else if("flipOutY"===c)i={0:{perspective:400},.3:{perspective:400,rotateY:-15,opacity:1},1:{perspective:400,rotateY:90,opacity:0}};else if("lightSpeedIn"===c)i={0:{translateX:a,skewX:-30,opacity:0},.6:{translateX:0,skewX:20,opacity:1},.8:{translateX:0,skewX:-5,opacity:1},1:{translateX:0,skewX:0,opacity:1}};else if("lightSpeedOut"===c)i={0:{opacity:1},1:{translateX:a,skewX:30,opacity:0}};else if("rotateIn"===c)i={0:{rotateZ:-200,opacity:0},1:{rotateZ:0,opacity:1}},r="center";else if("rotateInDownLeft"===c)i={0:{rotateZ:-45,opacity:0},1:{rotateZ:0,opacity:1}},r="left bottom";else if("rotateInDownRight"===c)i={0:{rotateZ:45,opacity:0},1:{rotateZ:0,opacity:1}},r="right bottom";else if("rotateInUpLeft"===c)i={0:{rotateZ:45,opacity:0},1:{rotateZ:0,opacity:1}},r="left bottom";else if("rotateInUpRight"===c)i={0:{rotateZ:-90,opacity:0},1:{rotateZ:0,opacity:1}},r="right bottom";else if("rotateOut"===c)i={0:{opacity:1},1:{rotateZ:200,opacity:0}},r="center";else if("rotateOutDownLeft"===c)i={0:{opacity:1},1:{rotateZ:45,opacity:0}},r="left bottom";else if("rotateOutDownRight"===c)i={0:{opacity:1},1:{rotateZ:-45,opacity:0}},r="right bottom";else if("rotateOutUpLeft"===c)i={0:{opacity:1},1:{rotateZ:-45,opacity:0}},r="left bottom";else if("rotateOutUpRight"===c)i={0:{opacity:1},1:{rotateZ:90,opacity:0}},r="right bottom";else{if("hinge"!==c)throw Error("the name of animation is not exists");i={0:{opacity:1},.2:{rotateZ:80},.4:{rotateZ:60,opacity:1},.6:{rotateZ:80},.8:{rotateZ:60,opacity:1},1:{translateY:700,opacity:0}},r="top left",n=["easeInOut","easeInOut","easeInOut","easeInOut","easeInOut","easeInOut"]}return[i,n,r,o]}};e.AnimationUtil=i}(t,e,e.base),function(t,e,i){var n,r=i.Class.extend({_init:function(){return void 0!==n?n=new this:(this.targetObjects=[],this)},addTarget:function(t){this.targetObjects.push(t),t.map=new e.base.WeakMap},getObject:function(t){var i,n;if(t instanceof e.AnimationObject)return t;for(i=0,n=this.targetObjects.length;n>i;i++){var r=this.targetObjects[i].map.get(t);return void 0===r&&(r=new e[this.targetObjects[i].$namespace](t),this.targetObjects[i].map.set(t,r)),r}throw"CannotCreateObject"},"static":{getInstance:function(){return void 0===n&&(n=new r),n},plugin:function(t){function i(){e.AnimationObject.call(this),t.$constructor.apply(this,arguments)}var n=/^\$(?:namespace|constructor|type)$/;if(t.$constructor){i.prototype=new e.AnimationObject,i.prototype.constructor=i;for(var r in t)n.test(r)||(i.prototype[r]="function"==typeof t[r]&&t[r]);return e[t.$namespace]=i,this.getInstance().addTarget(t),i}}}});e.ObjectManager=r}(t,e,e.base),function(t){"use strict";(function(t,e,i){var n=e.base.Class.extend({_init:function(){this.from=new e.Transform,this.cur=i.copy(this.from),this.updateSeek=!1,this.updateSeekProperty=[]},getFrom:function(t){var e={},t=t.animation;for(var i in t)e[i]=this.from[i],this.from[i]=t[i];return e},setFrom:function(t){this.from.set(t)}});e.AnimationObject=n})(t,e,e.base)}(t),function(t,e){"use strict";var i=e.CssAnimationUtil.getInstance(),n=e.CssStringCreator.getInstance();e.ObjectManager.plugin({$namespace:"DomObject",$type:t.HTMLElement,$constructor:function(t){this.dom=t,this.unit={}},render:function(t){var e,i,r=t.updateProperty;for(e=0;i=r[e];e++)t.targetStyle[i]=n[i](this,t.unit)},createTweenInfo:function(t,e,i){var n={fromTo:{},animationFromTo:t,cur:this.cur,option:e,name:[],unit:{},target:this,targetStyle:this.dom.style,updateProperty:[]};return i&&this.setAnimationFromTo(n),n},setAnimationFromTo:function(t){var e,n,r=!1,o=t.animationFromTo;for(e in o)void 0!==o[e]&&(this.isTransform(e)?(i.WebkitTransform(e,t),r||(t.updateProperty.push("WebkitTransform"),r=!0)):i[e]&&(n=i[e](t),n!==!1&&t.updateProperty.push(e)))},isTransform:function(t){return void 0!==t&&null!==t?"translateX"===t||"translateY"===t||"translateZ"===t||"rotateX"===t||"rotateY"===t||"rotateZ"===t||"rotate3d"===t||"scaleX"===t||"scaleY"===t||"skewX"===t||"skewY"===t||"perspective"===t?!0:!1:void 0},set:function(t){var e=!1;if(void 0!==t&&null!==t){for(var i in t)this.isTransform(i)?(e=!0,this.from[i]=t[i],this.cur[i]=t[i]):this.dom.style[i]=t[i];e&&(this.dom.style.WebkitTransform=n.WebkitTransform(this.cur))}}})}(t,e,e.base),function(t,e,i){"use strict";function n(t){var i,n;for(this.target=[],this.len=t.length,i=0;this.len>i;i++)this.target[i]=(n=r.getObject(t[i]).simpleAnimation)?n:new e.SimpleAnimation(t[i])}var r=e.ObjectManager.getInstance(),o={tween:function(t,i,n){var r;return this.simpleAnimation||(this.simpleAnimation=this.length?new e.SimpleAnimationGroup(this):new e.SimpleAnimation(this)),t?(r=e.AnimationUtil.optionAnalyzer(i,n),this.simpleAnimation.add(t,r),this.simpleAnimation.play(),this):this},stop:function(){this.simpleAnimation||this.simpleAnimation||(this.simpleAnimation=this.length?new e.SimpleAnimationGroup(this):new e.SimpleAnimation(this)),this.simpleAnimation.stop()},transform:function(t){this.simpleAnimation||(this.simpleAnimation=this.length?new e.SimpleAnimationGroup(this):new e.SimpleAnimation(this)),this.simpleAnimation.transform(t)}},a=function(t){this.tweenAnimator=new e.TweenAnimator,this.target=r.getObject(t),this.target.simpleAnimation=this,this.target.render&&this.tweenAnimator.setRender(this.target.render),this.target.cur&&this.tweenAnimator.setUpdateTarget(this.target.cur)};a.prototype.add=function(t,n,r){var o,a,s,c,u=r||this.tweenAnimator,l=this;if("string"==typeof t){try{o=e.AnimationUtil.effectAnalyzer(this.target,t)}catch(h){return}return e.AnimationUtil.createKeyFrame(o[0],n,function(t,e,i){void 0!==o[1]&&(e.ease=o[1][i]),a=l.target.createTweenInfo(t,e,!0),u.add(a),void 0!==o[2]&&(0===i?a.startCallback.on(function(){l.target.dom.style.webkitTransformOrigin=o[2]}):i===o.length&&a.completeCallback.on(function(){l.target.dom.style.webkitTransformOrigin=""})),void 0!==o[3]&&a.completeCallback.on(function(){l.target.dom.style.visibility=o[3]})}),void 0}"object"==typeof t&&(t.effect&&(void 0===this.parTweensGroup?(this.parTweensGroup=[],c=new e.TweenAnimator,this.parTweensGroup.push(c)):c=this.parTweensGroup[0],this.target.render&&c.setRender(this.target.render),this.target.cur&&c.setUpdateTarget(this.target.cur),(s=u.getLastTweenInfo())?s.completeCallback.on(function(){l.add(t.effect,i.deepCopy(n),c),c.play()}):this.add(t.effect,i.deepCopy(n),c)),"running"===u.getState()?(a=l.target.createTweenInfo(t,n,!1),(s=u.getLastTweenInfo())&&s.completeCallback.on(function(){l.target.setAnimationFromTo(a)})):a=this.target.createTweenInfo(t,n,!0),u.add(a))},a.prototype.play=function(){var t,e;if(this.tweenAnimator.play(),this.parTweensGroup)for(t=0,e=this.parTweensGroup.length;e>t;t++)this.parTweensGroup[t].play()},a.prototype.stop=function(){var t,e;if(this.tweenAnimator.stop(),this.parTweensGroup)for(t=0,e=this.parTweensGroup.length;e>t;t++)this.parTweensGroup[t].stop()},a.prototype.transform=function(t){this.target.set(t)},n.prototype.add=function(t,i){var n=0,r=this;e.AnimationUtil.checkStagger(this.target,i,function(e,o){i.onComplete&&(o.onComplete=function(){n++,n===r.len&&e.tweenAnimator.getCurrentTweenInfo().completeCallback.on(i.onComplete)}),e.add(t,o)})},n.prototype.play=function(){var t;for(t=0;this.len>t;t++)this.target[t].play()},n.prototype.stop=function(){var t;for(t=0;this.len>t;t++)this.target[t].stop()},n.prototype.transform=function(t){var e;for(e=0;this.len>e;e++)this.target[e].target.set(t)},e.SimpleAnimation=a,e.SimpleAnimationGroup=n,e.SimpleAnimationMixinObject=o}(t,e,e.base),function(t,e){"use strict";function i(t){e.base.mixin(t,n)}var n=e.SimpleAnimationMixinObject;e.SimpleMixin=i}(t,e),function(t,e){"use strict";var i=e.ObjectManager.getInstance();e.SimpleMixin(e.DomObject),e.target=function(n){var r,o,a,s,c=null;if("string"==typeof n)r=n.slice(0,1),o=n.slice(1),"."===r?(c=document.getElementsByClassName(o),c?!c.tween&&e.SimpleMixin(c):c=[]):"#"===r?(c=document.getElementById(o),c=c?i.getObject(c):[]):c=[];else if(void 0!==n.tagName)c=i.getObject(n);else{if(!(n instanceof Array&&n.length>0))throw new RangeException;for(a=0,s=n.length;s>a;a++)if(!(n[a]instanceof t.HTMLElement))throw new RangeException;n.tween||e.SimpleMixin(n),c=n}return c}}(t,e)})(window);